# hw8

### Структура

Проект организован в виде Terraform модулей.

1. **compute**

     Создание загрузочного диска и виртуальной машины для приложения.
2. **iam**

     Создание сервисного аккаунта, назначения ему роли `editor` и генерация статического ключа.

3. **network**

     Облачная сеть и подсеть, в которой будет работать приложение.

4. **postgresql**

     PostgreSQL кластер, база данных и пользователь для нее.

5. **storage**

     Создание бакета в объектном хранилище.

### Запуск
Убедитесь, что выставлены переменные окружения `YC_TOKEN`, `YC_CLOUD_ID`, `YC_FOLDER_ID`.

0. Создайте файл `terraform.tfvars` и задайте в нем переменные

     ```
     folder_id = "id"
     postgresql_user = {
          name     = "name"
          password = "password"
     }
     ```

1. Инициализация Terraform

     ```bash
     terraform init
     ```

2. Посмотрите план

     ```bash
     terraform plan
     ```

3. Создайте ресурсы

     ```bash
     terraform apply
     ```
